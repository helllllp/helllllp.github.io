<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>网络trouble-shooting | helllllp!</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="网络" />
    
    <meta name="description" content="一、突然其来的卡顿现象十一国庆假期过后，生产说访问图纸突然很卡顿，期间收到过PLM服务器磁盘满的警报。远程登录研发图纸服务器，发现备份不成功，而且访问是比较卡顿，初步怀疑是存储的问题。连到备份服务器，果然通过ISCSI发起映射的磁盘访问及其卡顿，马上连到存储，并没看到有异常警报，但是PING存储的ISCSI接口，延迟很严重。其他有ISCSI映射盘的服务器全部都有这种现象。 因为是工作时间，故要先">
<meta property="og:type" content="article">
<meta property="og:title" content="网络trouble-shooting">
<meta property="og:url" content="https://blog.hellshan.top/archives/3a9089d3/index.html">
<meta property="og:site_name" content="helllllp!">
<meta property="og:description" content="一、突然其来的卡顿现象十一国庆假期过后，生产说访问图纸突然很卡顿，期间收到过PLM服务器磁盘满的警报。远程登录研发图纸服务器，发现备份不成功，而且访问是比较卡顿，初步怀疑是存储的问题。连到备份服务器，果然通过ISCSI发起映射的磁盘访问及其卡顿，马上连到存储，并没看到有异常警报，但是PING存储的ISCSI接口，延迟很严重。其他有ISCSI映射盘的服务器全部都有这种现象。 因为是工作时间，故要先">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://blog.hellshan.top/archives/3a9089d3/1.png">
<meta property="article:published_time" content="2024-10-08T14:00:05.000Z">
<meta property="article:modified_time" content="2024-11-06T03:10:09.123Z">
<meta property="article:author" content="HellShan">
<meta property="article:tag" content="网络">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.hellshan.top/archives/3a9089d3/1.png">
    

    

    
        <link rel="icon" href="/css/images/favicon.png" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
    
    



<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="helllllp!" type="application/atom+xml">
</head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/">学而时习之</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E5%AE%9E%E8%B7%B5%E9%AA%8C%E8%AF%81%E7%9C%9F%E7%90%86/">实践验证真理</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%8B%BF%E6%9D%A5%E4%B8%BB%E4%B9%89/">拿来主义</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%B8%A9%E6%95%85%E8%80%8C%E7%9F%A5%E6%96%B0/">温故而知新</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%96%87%E6%91%98/">文摘</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%96%87%E6%91%98/%E4%BA%BA%E7%89%A9/">人物</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%96%87%E6%91%98/%E5%8E%86%E5%8F%B2/">历史</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%96%87%E6%91%98/%E5%9C%B0%E7%90%86/">地理</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%96%87%E6%91%98/%E6%94%BF%E6%B2%BB/">政治</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%96%87%E6%91%98/%E7%BB%8F%E6%B5%8E/">经济</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%9D%82%E5%BF%97/">杂志</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E6%9D%82%E5%BF%97/%E8%88%AA%E6%8B%8D%E4%B8%AD%E5%9B%BD/">航拍中国</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E7%83%AD%E7%82%B9/">热点</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/%E7%83%AD%E7%82%B9/%E5%B9%B3%E5%8F%B0/">平台</a></li></ul></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/dashboard/index.html">仪表板</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">关于</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><input type="hidden" name="sitesearch" value="https://blog.hellshan.top"></form>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/">学而时习之</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E5%AE%9E%E8%B7%B5%E9%AA%8C%E8%AF%81%E7%9C%9F%E7%90%86/">实践验证真理</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-网络trouble-shooting" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        网络trouble-shooting
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
    <div class="article-date">
      <i class="fa fa-calendar"></i>
      <a href="/archives/3a9089d3/" class="article-date">
         <time datetime="2024-10-08T14:00:05.000Z" itemprop="datePublished">2024-10-08</time>
      </a>
    </div>


                

                
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a>
    </div>

                
   <span id="/archives/3a9089d3/" class="leancloud-visitors" data-flag-title="网络trouble-shooting">
   <i class="fa fa-eye"></i>
   <span class="post-meta-item-text">阅读次数: </span>
   <i class="leancloud-visitors-count">1000000</i>
   </span>


                

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <p><img src="/archives/3a9089d3/1.png" alt=" "></p>
<h2 id="一、突然其来的卡顿"><a href="#一、突然其来的卡顿" class="headerlink" title="一、突然其来的卡顿"></a>一、突然其来的卡顿</h2><h3 id="现象"><a href="#现象" class="headerlink" title="现象"></a>现象</h3><p>十一国庆假期过后，生产说访问图纸突然很卡顿，期间收到过PLM服务器磁盘满的警报。远程登录研发图纸服务器，发现备份不成功，而且访问是比较卡顿，初步怀疑是存储的问题。连到备份服务器，果然通过ISCSI发起映射的磁盘访问及其卡顿，马上连到存储，并没看到有异常警报，但是PING存储的ISCSI接口，延迟很严重。其他有ISCSI映射盘的服务器全部都有这种现象。</p>
<p>因为是工作时间，故要先尽快恢复访问，先断掉ISCSI映射盘，只用本地磁盘。后面发现服务器网段的网络都有一定延迟，登录进核心交换机（CISCO C4503E)，发现核心交换机输入输出非常卡顿，估计问题就是出现在这里。</p>
<h3 id="排查"><a href="#排查" class="headerlink" title="排查"></a>排查</h3><p>一：CPU超载原因：<br>导致CISCO4500系列交换CPU超载的原因很多。最常见的原因为网络中异常包过多，使核心交换机CPU疲于控制，转发异常包，CPU超载运作。在我们公司有出现过下列三种方式导致异常包过多现象:<br>1：病毒（ARP，DHCP协议包过多)；<br>2：二层网络串接成回路（广播风暴)；<br>3：测试软件使用不当(该软件能持续发送广播包或者多包)；</p>
<p>二：Troubleshooting过程可参考的命令:<br>1: show processes cpu<br>2: show platform health<br>3: show platform cpu packet statistics<br>4: debug platform packet all receive buffer<br>5: show platform cpu packet buffered<br>6: show interfaces | include L2 |line |broadcast<br>7: show interfaces interface counters<br>8: show interface | include line |\/sec<br>9: monitor session 1 source cpu<br>10:monitor session 2 destination interface interfaces</p>
<p>三：一般处理办法：<br>针对上述导致CPU超载原因，在现实中稍有不同的处理步骤。病毒以及测软件产生异常包，我们需要找到源头并封挡它；网络串接成环，我们需要定位哪个端口下或哪些端口串接成环并做出处理。<br>最近5厂出现测试软件使用不当，导致核心45 CPU超载的异常事件，现结合案子大概讲述下处理过程：<br>1：收到核心45超载报警信息后，登入45,show processes cpu 查看各个进程占用率情况，发现Cat4k Mgmt进程占用率过大，此为核心进程。</p>
<p>这次使用如下命令，直接过滤掉没负载的进程：<br><code>show processes cpu | exclude 0.00</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">CPU utilization for five seconds: 18%&#x2F;0%; one minute: 76%; five minutes: 94%  </span><br><span class="line">PID Runtime(ms)     Invoked      uSecs   5Sec   1Min   5Min TTY Process  </span><br><span class="line">18   643334722  2859143991        225  70.11% 72.11% 75.57%   0 ARP Input  </span><br><span class="line">50     2130938    37699887         56  0.07%  0.07%  0.07%   0 IDB Work       </span><br><span class="line">78  1295771747  3328977192        389  5.91% 15.44% 18.29%   0 Cat4k Mgmt HiPri  </span><br><span class="line">79  1568485493  1102455511       1422  2.15%  6.16%  7.42%   0 Cat4k Mgmt LoPri  </span><br><span class="line">105     3708758   683073180          5  0.15%  0.09%  0.08%   0 Ethernet Msec Ti  </span><br><span class="line">119     1217177   376915709          3  0.07%  0.05%  0.07%   0 UDLD  </span><br><span class="line">142     6151235    60788415        101  0.07%  0.07%  0.07%   0 CDP Protocol  </span><br><span class="line">150   233100791  1571560759        148  0.39%  0.33%  0.32%   0 IP Input  </span><br><span class="line">157        1196        1274        938  5.83%  0.64%  0.22%   1 SSH Process  </span><br><span class="line">159    55886334   803159062         69  1.67%  1.55%  1.55%   0 Spanning Tree  </span><br><span class="line">196    34326058    43858690        782  0.15%  0.10%  0.08%   0 ADJ background  </span><br><span class="line">339     6819568    94793998         71  0.07%  0.04%  0.05%   0 LLDP Protocol  </span><br></pre></td></tr></table></figure>
<p>很明显，是ARP请求导致的，再运行抓包进一步查出发送ARP包的源，利用cisco设备本身具有的命令来获取异常包信息。</p>
<p>开启debug：<br><code>debug platform packet all receive buffer</code></p>
<p>查看数据包：<br><code>show platform cpu packet buffered</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Index 94:  </span><br><span class="line">Oct  8 18:48:42.568 Beijing - RxVlan: 101, RxPort: Gi3&#x2F;1  </span><br><span class="line">Priority: Normal, Tag: Dot1Q Tag, Event: L2 Router, Flags: 0x40, Size: 64  </span><br><span class="line">Eth: Src 00:14:C0:A8:01:44 Dst FF:FF:FF:FF:FF:FF Type&#x2F;Len 0x0806  </span><br><span class="line">Remaining data:   </span><br><span class="line"> 0: 0x0  0x1  0x8  0x0  0x6  0x4  0x0  0x1  0x0  0x14   </span><br><span class="line">10: 0xC0 0xA8 0x1  0x44 0xC0 0xA8 0x1  0x44 0x0  0x0    </span><br><span class="line">20: 0x0  0x0  0x0  0x0  0xC0 0xA8 0x1  0x1  0x0  0x0    </span><br><span class="line">30: 0x0  0x0  0x9D 0x11 0x0  0x0  0x0  0x0  0x0  0x0    </span><br><span class="line">40: 0x15 0x12 0x0  0x0  0xB4 0x8A 0xCE 0x98 0x8B 0x62   </span><br></pre></td></tr></table></figure>
<p>可以看到全部都是这种ARP包，可以看到源MAC地址是00:14:C0:A8:01:44，从Gi3/1端口接收，查出源MAC这下就好办了，进一步查找Gi3/1连接的是哪个交换机，使用<code>show lldp ne</code>查看连接的邻居交换机信息，找到后，连接到该交换机，发现下接的是华为S5735交换机，远程登录到该交换机，使用<code>dis mac-address | include 0144</code>，可以查出是哪个端口，直接把该端口shutdown掉，再回去核心交换机看看负载，明显的已经降下来了，问题得到解决。</p>
<p>最后发现该设备是一个考勤设备，可能有故障不断发送ARP包，但又不能影响使用，故在交换机上配置ARP包限制即可。</p>
<p>相关安全命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">[Huawei]arp speed-limit source-mac maximum 10  &#x2F;&#x2F;配置根据任意源MAC地址进行ARP报文限速的限速值</span><br><span class="line">[Huawei]arp speed-limit source-mac 1000-0000-0000 maximum 10  &#x2F;&#x2F;配置对指定MAC地址用户的ARP报文进行限速的限速值</span><br><span class="line">[Huawei]arp speed-limit source-ip 10.1.1.1 maximum 30 &#x2F;&#x2F;配置对指定IP地址用户的ARP报文进行限速的限速值, 缺省30个</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack rate-limit 10  &#x2F;&#x2F;配置ARP报文的限速值</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack rate-limit enable  &#x2F;&#x2F;使能ARP报文限速功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack rate-limit alarm enable  &#x2F;&#x2F;使能ARP报文限速丢弃告警功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack rate-limit alarm threshold 100  &#x2F;&#x2F;配置ARP报文限速丢弃告警阈值,缺省为100</span><br><span class="line">[Huawei-vlan10]arp anti-attack rate-limit 10  </span><br><span class="line">[Huawei-vlan10]arp anti-attack rate-limit enable</span><br><span class="line">[Huawei-vlan10]arp anti-attack rate-limit alarm enable</span><br><span class="line">[Huawei-vlan10]arp anti-attack rate-limit alarm threshold 100</span><br><span class="line">[Huawei]arp-miss speed-limit source-ip maximum 10  &#x2F;&#x2F;配置根据源IP地址进行ARP Miss消息限速的限速值</span><br><span class="line">[Huawei]arp-miss speed-limit source-ip 10.1.1.1 maximum 10  &#x2F;&#x2F;配置对指定IP地址用户的ARP Miss消息进行限速的限速值</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp-miss anti-attack rate-limit enable   &#x2F;&#x2F;使能ARP Miss消息限速功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp-miss anti-attack rate-limit alarm enable  &#x2F;&#x2F;使能ARP Miss消息限速丢弃告警功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp-miss anti-attack rate-limit alarm threshold 100   &#x2F;&#x2F;配置ARP Miss消息限速丢弃告警阈值,缺省为100</span><br><span class="line">[Huawei-vlan10]arp-miss anti-attack rate-limit enable  </span><br><span class="line">[Huawei-vlan10]arp-miss anti-attack rate-limit alarm enable  </span><br><span class="line">[Huawei-vlan10]arp-miss anti-attack rate-limit alarm threshold 100</span><br><span class="line">[Huawei]arp learning strict  &#x2F;&#x2F;配置全局ARP表项严格学习功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp-limit vlan 10 maximum 10  &#x2F;&#x2F;配置基于二层接口的ARP表项限制</span><br><span class="line">[Huawei]display arp anti-attack configuration all  &#x2F;&#x2F;查看ARP防攻击配置</span><br><span class="line">[Huawei]display arp-limit  &#x2F;&#x2F;查看接口可以学习到的动态ARP表项数目的最大值</span><br><span class="line">[Huawei]display arp learning strict  &#x2F;&#x2F;查看全局和所有VLANIF接口上的ARP表项严格学习情况</span><br><span class="line">[Huawei]arp anti-attack entry-check fixed-mac enable  &#x2F;&#x2F;配置ARP表项固化功能</span><br><span class="line">[Huawei]arp anti-attack entry-check fixed-all enable  </span><br><span class="line">[Huawei]arp anti-attack entry-check send-ack enable</span><br><span class="line">[Huawei-Vlanif10]arp anti-attack entry-check fixed-mac enable  &#x2F;&#x2F;接口使能ARP表项固化功能</span><br><span class="line">[Huawei-Vlanif10]arp anti-attack entry-check fixed-all enable  </span><br><span class="line">[Huawei-Vlanif10]arp anti-attack entry-check send-ack enable</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack check user-bind enable  &#x2F;&#x2F;使能动态ARP检测功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack check user-bind check-item ip-address  &#x2F;&#x2F;配置对ARP报文进行绑定表匹配检查的检查项</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack check user-bind check-item mac-address</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack check user-bind check-item vlan</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack check user-bind alarm enable  &#x2F;&#x2F;使能动态ARP检测丢弃报文告警功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]arp anti-attack check user-bind alarm threshold 100  &#x2F;&#x2F;配置动态ARP检测丢弃报文告警阈值, 缺省为100</span><br><span class="line">[Huawei]dhcp enable  &#x2F;&#x2F;全局使能DHCP功能</span><br><span class="line">[Huawei]dhcp snooping enable  &#x2F;&#x2F;全局使能DHCP Snooping功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp snooping enable  &#x2F;&#x2F;使能接口的DHCP Snooping功能</span><br><span class="line">[Huawei-GigabitEthernet0&#x2F;0&#x2F;1]dhcp snooping trusted  &#x2F;&#x2F;配置接口为信任状态</span><br><span class="line">[Huawei-vlan10]dhcp snooping enable</span><br><span class="line">[Huawei-vlan10]dhcp snooping trusted interface GigabitEthernet 0&#x2F;0&#x2F;1  </span><br><span class="line">[Huawei]arp anti-attack gateway-duplicate enable  &#x2F;&#x2F;使能ARP防网关冲突攻击功能</span><br><span class="line">[Huawei-Vlanif10]arp gratuitous-arp send enable   &#x2F;&#x2F;使能发送免费ARP报文的功能</span><br><span class="line">[Huawei-Vlanif10]arp gratuitous-arp send interval 60  &#x2F;&#x2F;配置发送免费ARP报文的时间间隔,缺省为60秒</span><br><span class="line">[Huawei]arp anti-attack packet-check sender-mac  &#x2F;&#x2F;使能ARP报文合法性检查功能，并指定ARP报文合法性检查项</span><br><span class="line">[Huawei-Vlanif10]arp learning dhcp-trigger  &#x2F;&#x2F;使能DHCP触发ARP学习功能</span><br><span class="line">[Huawei]display arp anti-attack configuration check user-bind interface GigabitEthernet 0&#x2F;0&#x2F;1  &#x2F;&#x2F;查看VLAN或接口下动态ARP检测的相关配置</span><br><span class="line">[Huawei]display arp anti-attack gateway-duplicate item  &#x2F;&#x2F;查看ARP防网关冲突攻击表项</span><br><span class="line">[Huawei]display arp packet statistics  &#x2F;&#x2F;查看ARP处理的报文统计数据</span><br><span class="line">[Huawei]display arp anti-attack statistics check user-bind interface g0&#x2F;0&#x2F;1  &#x2F;&#x2F;查看接口下进行ARP报文绑定表匹配检查的ARP报文丢弃计数</span><br><span class="line">[Huawei]display arp anti-attack arpmiss-record-info  &#x2F;&#x2F;查看ARP Miss消息限速触发时的相关信息</span><br><span class="line">&lt;Huawei&gt;reset arp  packet statistics  &#x2F;&#x2F;清除ARP报文的统计信息</span><br><span class="line">&lt;Huawei&gt;reset arp anti-attack statistics check user-bind interface g0&#x2F;0&#x2F;1  &#x2F;&#x2F;清除由于不匹配绑定表而丢弃的ARP报文计数</span><br><span class="line">&lt;Huawei&gt;reset arp anti-attack statistics rate-limit  &#x2F;&#x2F;清除由于ARP报文超过速率限制阈值而被丢弃的计数</span><br><span class="line">[Huawei]arp anti-attack log-trap-timer 1  &#x2F;&#x2F;配置对潜在的ARP攻击行为发送告警的时间间隔</span><br></pre></td></tr></table></figure></p>
<p>这里只配置了指定MAC地址用户的ARP报文进行限速的限速值：<br><code>arp speed-limit source-mac 0014-c0a8-0144 maximum 10</code></p>
<p>再次开启端口后观察一切正常。</p>
<h3 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h3><p>这次通过多个命令排查根源，但是发生故障的根本原因是规划问题，因为设备跟服务器在同一个VLAN，所以大量发送ARP请求会影响到该VLAN的网络访问。</p>
<h2 id="二、设备无故获取异常地址"><a href="#二、设备无故获取异常地址" class="headerlink" title="二、设备无故获取异常地址"></a>二、设备无故获取异常地址</h2><h3 id="现象-1"><a href="#现象-1" class="headerlink" title="现象"></a>现象</h3><p>某设备停机维护，然后重新启动后发现怎么都连不了内网，过去查看网卡获取到异常的地址，很明显是有人私接路由器，并开启了DHCP服务，导致设备都获取到这个路由器分配的地址。</p>
<h3 id="排查-1"><a href="#排查-1" class="headerlink" title="排查"></a>排查</h3><p>现在的交换机都有DHCP spooning的功能，就是防私接路由。开启该功能后客户端发送的dhcp请求只能从指定端口回应，其他端口会丢弃请求，从而达到阻止私接路由器获取非法DHCP的功能。但是较旧的交换机没有这个功能，但又找不到私接的路由器设备放到哪里，是不是就没辙了？答案是可以通过MAC的ACL来控制啦。</p>
<p>1、通过获取到非法DHCP的客户端或者使用它的网线接笔记本，获取到非法地址，打开命令提示符，通过arp -a命令获取到路由器地址的MAC地址。</p>
<p>2、直接进入该网络区域的汇聚交换机，通过show mac address-table | include xxxx（MAC最后四位即可）就可以查到该MAC地址对应的端口，如果该端口是trunk口，下面还接有一个可管理交换机，则再进入该交换机重复上述操作。</p>
<p>3、确定最后非法路由器的接口，可以通过建立基于MAC的ACL，进入全局配置模式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">C2960S(config)#mac access-list extended deny_hub_dhcp          # 创建ACL</span><br><span class="line">C2960S(config-ext-macl)#deny host 0018.0515.3049 any           # 添加规则</span><br><span class="line">C2960S(config-ext-macl)#permit any any</span><br><span class="line">C2960S(config-ext-macl)#exit</span><br><span class="line">C2960S(config)#inter gigabitEthernet 1&#x2F;0&#x2F;13                    </span><br><span class="line">C2960S(config-if)#mac access-group deny_hub_dhcp in            # 进入端口应用ACL</span><br></pre></td></tr></table></figure>
<p>配置后再测试能获取正常的DHCP地址了。</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://blog.hellshan.top/archives/3a9089d3/" data-id="cmiy177ya003ni7o932v0cmmo" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "HellShan"
        },
        "headline": "网络trouble-shooting",
        "image": "https://blog.hellshan.top/archives/3a9089d3/1.png",
        "keywords": "网络",
        "genre": "学而时习之 实践验证真理",
        "datePublished": "2024-10-08",
        "dateCreated": "2024-10-08",
        "dateModified": "2024-11-06",
        "url": "https://blog.hellshan.top/archives/3a9089d3/",
        "description": "
一、突然其来的卡顿现象十一国庆假期过后，生产说访问图纸突然很卡顿，期间收到过PLM服务器磁盘满的警报。远程登录研发图纸服务器，发现备份不成功，而且访问是比较卡顿，初步怀疑是存储的问题。连到备份服务器，果然通过ISCSI发起映射的磁盘访问及其卡顿，马上连到存储，并没看到有异常警报，但是PING存储的ISCSI接口，延迟很严重。其他有ISCSI映射盘的服务器全部都有这种现象。
因为是工作时间，故要先",
        "wordCount": 1226
    }
</script>

</article>

    <section id="comments">
    
        
    <!-- Valine -->
    <div class="vcomments"></div>


    
    </section>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/helllllp" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="qq" href="/524311610" target="_blank" rel="noopener">
                        <i class="icon fa fa-qq"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weixin" href="/" target="_blank" rel="noopener">
                        <i class="icon fa fa-weixin"></i>
                    </a>
                </li>
                
            
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/archives/28fc7b36/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption">下一篇</strong>
        <p class="article-nav-title">
        
            别只会重启了！进来告诉你AP无法上线怎么办
        
        </p>
        <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
    
    
        <a href="/archives/c87ff6a5/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">上一篇</strong>
        <p class="article-nav-title">从秦朝到美国，地形图上的龙兴之地都具备一样的特征</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/archives/b541af11/" class="thumbnail">
    
    
        <span style="background-image:url(/archives/b541af11/1.png)" alt="PON网络一文通" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/">学而时习之</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%8B%BF%E6%9D%A5%E4%B8%BB%E4%B9%89/">拿来主义</a></p>
                            <p class="item-title"><a href="/archives/b541af11/" class="title">PON网络一文通</a></p>
                            <p class="item-date"><time datetime="2024-12-26T06:45:33.000Z" itemprop="datePublished">2024-12-26</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/archives/c3a78d8f/" class="thumbnail">
    
    
        <span style="background-image:url(/archives/c3a78d8f/1.png)" alt="企业网络交换机常用配置" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/">学而时习之</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E5%AE%9E%E8%B7%B5%E9%AA%8C%E8%AF%81%E7%9C%9F%E7%90%86/">实践验证真理</a></p>
                            <p class="item-title"><a href="/archives/c3a78d8f/" class="title">企业网络交换机常用配置</a></p>
                            <p class="item-date"><time datetime="2024-12-18T01:46:05.000Z" itemprop="datePublished">2024-12-18</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/archives/28fc7b36/" class="thumbnail">
    
    
        <span style="background-image:url(/archives/28fc7b36/1.png)" alt="别只会重启了！进来告诉你AP无法上线怎么办" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/">学而时习之</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%8B%BF%E6%9D%A5%E4%B8%BB%E4%B9%89/">拿来主义</a></p>
                            <p class="item-title"><a href="/archives/28fc7b36/" class="title">别只会重启了！进来告诉你AP无法上线怎么办</a></p>
                            <p class="item-date"><time datetime="2024-10-10T06:10:09.000Z" itemprop="datePublished">2024-10-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/archives/3a9089d3/" class="thumbnail">
    
    
        <span style="background-image:url(/archives/3a9089d3/1.png)" alt="网络trouble-shooting" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/">学而时习之</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E5%AE%9E%E8%B7%B5%E9%AA%8C%E8%AF%81%E7%9C%9F%E7%90%86/">实践验证真理</a></p>
                            <p class="item-title"><a href="/archives/3a9089d3/" class="title">网络trouble-shooting</a></p>
                            <p class="item-date"><time datetime="2024-10-08T14:00:05.000Z" itemprop="datePublished">2024-10-08</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/archives/c87ff6a5/" class="thumbnail">
    
    
        <span style="background-image:url(/archives/c87ff6a5/1.png)" alt="从秦朝到美国，地形图上的龙兴之地都具备一样的特征" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/%E6%96%87%E6%91%98/">文摘</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/%E6%96%87%E6%91%98/%E5%8E%86%E5%8F%B2/">历史</a></p>
                            <p class="item-title"><a href="/archives/c87ff6a5/" class="title">从秦朝到美国，地形图上的龙兴之地都具备一样的特征</a></p>
                            <p class="item-date"><time datetime="2024-08-20T02:48:30.000Z" itemprop="datePublished">2024-08-20</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/">学而时习之</a><span class="category-list-count">36</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E5%AE%9E%E8%B7%B5%E9%AA%8C%E8%AF%81%E7%9C%9F%E7%90%86/">实践验证真理</a><span class="category-list-count">23</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%8B%BF%E6%9D%A5%E4%B8%BB%E4%B9%89/">拿来主义</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%B8%A9%E6%95%85%E8%80%8C%E7%9F%A5%E6%96%B0/">温故而知新</a><span class="category-list-count">5</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E6%91%98/">文摘</a><span class="category-list-count">21</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E6%91%98/%E4%BA%BA%E7%89%A9/">人物</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E6%91%98/%E5%8E%86%E5%8F%B2/">历史</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E6%91%98/%E5%9C%B0%E7%90%86/">地理</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E6%91%98/%E6%94%BF%E6%B2%BB/">政治</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E6%91%98/%E7%BB%8F%E6%B5%8E/">经济</a><span class="category-list-count">6</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E5%BF%97/">杂志</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E5%BF%97/%E8%88%AA%E6%8B%8D%E4%B8%AD%E5%9B%BD/">航拍中国</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%83%AD%E7%82%B9/">热点</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%83%AD%E7%82%B9/%E5%B9%B3%E5%8F%B0/">平台</a><span class="category-list-count">2</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">十月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">七月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">4</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AD/" rel="tag">AD</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ELK/" rel="tag">ELK</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LLM/" rel="tag">LLM</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WLAN/" rel="tag">WLAN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/article/" rel="tag">article</a><span class="tag-list-count">21</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cluster/" rel="tag">cluster</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/" rel="tag">database</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kvm/" rel="tag">kvm</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/monitor/" rel="tag">monitor</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proxy/" rel="tag">proxy</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/seo/" rel="tag">seo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%85%E6%B8%B8/" rel="tag">旅游</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%88%AA%E6%8B%8D/" rel="tag">航拍</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-float">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/AD/" style="font-size: 12.86px;">AD</a> <a href="/tags/ELK/" style="font-size: 11.43px;">ELK</a> <a href="/tags/LLM/" style="font-size: 11.43px;">LLM</a> <a href="/tags/WLAN/" style="font-size: 10px;">WLAN</a> <a href="/tags/article/" style="font-size: 20px;">article</a> <a href="/tags/cluster/" style="font-size: 10px;">cluster</a> <a href="/tags/database/" style="font-size: 17.14px;">database</a> <a href="/tags/docker/" style="font-size: 14.29px;">docker</a> <a href="/tags/hexo/" style="font-size: 12.86px;">hexo</a> <a href="/tags/k8s/" style="font-size: 11.43px;">k8s</a> <a href="/tags/kvm/" style="font-size: 12.86px;">kvm</a> <a href="/tags/linux/" style="font-size: 18.57px;">linux</a> <a href="/tags/monitor/" style="font-size: 11.43px;">monitor</a> <a href="/tags/nginx/" style="font-size: 11.43px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 11.43px;">nodejs</a> <a href="/tags/proxy/" style="font-size: 12.86px;">proxy</a> <a href="/tags/seo/" style="font-size: 10px;">seo</a> <a href="/tags/%E6%97%85%E6%B8%B8/" style="font-size: 10px;">旅游</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 15.71px;">网络</a> <a href="/tags/%E8%88%AA%E6%8B%8D/" style="font-size: 10px;">航拍</a>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2025 HellShan</p>
                
                <p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="https://github.com/ppoffice" target="_blank">PPOffice</a></p>
                <p><a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备2020094422号-1</a</p>
                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>

    </div>
    
    
    <script src="//unpkg.com/valine"></script>
    <script>
        var GUEST = ['nick','mail','link'];
        var meta = '';
        meta = meta.split(',').filter(function (item) {
            return GUEST.indexOf(item)>-1;
        });
        var avatarcdn = 'https://gravatar.loli.net/avatar/' == true;
        new Valine({
            el: '.vcomments',
            notify: "",
            verify: "true",
            appId: "4O7x2f71OT7FFlrdxFIAJn3v-gzGzoHsz",
            appKey: "k2d5KmEjtQeLw5IuRficyYsN",
            placeholder: "Just Do It",
            avatar:"wavatar",
            recordIP:"",
            visitor: "true"
        });
    </script>





    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
